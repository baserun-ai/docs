---
title: Advanced tracing features
sidebarTitle: Advanced tracing features
description: Tracing additional data such as trace name, custom log, session ID, etc
---

## Add Trace Name

If you're tracing multiple functions, you can use the start_trace context manager to distinguish them:

<CodeGroup>

    ```bash python

def ask_question(question="What is the capital of the US?") -> str:
with baserun.start_trace(name="General knowledge question") as run: # Your code here

        # You can set properties on the `run` object such as the `result`
        run.result = content
     ```

</CodeGroup>

Within a (`start_trace) context any calls to OpenAI or Anthropic will automatically be included in the trace.

## Add Custom Log

In addition to LLM logs, it’s often helpful to debug and understand your workflow by capturing additional information such as other 3rd party API results or business logic relevant to your app. You can provide your own payload as any JSON-serializable dict.

<ParamField path="message" type="string">
  The name of the custom log message to be recorded.
</ParamField>
<ParamField path="payload" type="string | object">
  The log's additional data, which can be either a string or an object.
</ParamField>

<CodeGroup>
```python python
    import baserun

    def get_response(product_id, message):
        product_data = fetch_product_data(product_id)
        baserun.log("Product data", product_data)
        ...

````

```typescript typescript
    import {baserun} from 'baserun';

    async function getResponse(productId: string, message: string) {
        const productData = await fetchProductData(productId);
        baserun.log("Product data", productData);
        ...
    }
````

</CodeGroup>

## Adding Sessions

If you're building a system where user interactions happen in a sequence—like a chatbot—you'll find it useful to group these interactions into a single session. The (`with_session) context manager in Baserun allows you to do just that. By providing a username or User ID, you can create a new session. By providing a session ID you can continue an existing session. This allows you to group all related traces under either the User or Session, making it easier to debug or analyze the user's journey through your application.

### Create a new session

<CodeGroup>
```python python
import baserun
   
with baserun.with_session(identifier=username_or_id) as session:
    # Store session ID to be continued later
    session_id = session.id
    run_chatbot()
    ```

</CodeGroup>

### Continuing an existing session

<CodeGroup>
```python python
import baserun
   
with baserun.with_session(session_id=session_id) as session:
    run_chatbot()
    ```

</CodeGroup>
Providing a username or ID (the value is up to you) will allow you to group traces by user to help you with debugging.
